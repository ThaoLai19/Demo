<html>
<canvas id="myCanvas"></canvas>
<style>
  body {
    background-color: black;
    margin: 0;
    padding: 0;
    font-family: sans-serif;
  }
</style>

<head>
  <script src="particle.js" type="text/javascript"></script>
  <script src="mouse.js" type="text/javascript"></script>
  <script src="animate.js" type="text/javascript"></script>
  <script src="drawmap.js" type="text/javascript"></script>
  <script>
    var THRESHOLD = 0.00005;
    let cvs = canvas.getContext("2d");
    let array1 = null;
    let array2d = null;
    let particles = []; // Array to store the particles

    window.onload = function () {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

     /* fetch('distance_field.json')
        .then(response => response.json())
        .then(data => {
          console.log("data:", data);
          array2d = data;
        });*/
      
      fetch('distance_field.json')
        .then((response) => response.json())
        .then(data => {
          array1 = data;
        });
      if (array1 != null) {console.log('no null');}
    drawMap();
      if (array1 != null) {console.log('no null');}

    //array2d = JSON.parse('distance_field.json');
    /*$.getJSON("distance_field.json", function(json) {
    array2d = json;
    });*/

      // Call the animate function to start the animation loop
      animate();
    }

  </script>
</head>

<body>
</body>

</html>
