<html>
<canvas id="myCanvas"></canvas>
<style>
  body {
    background-color: yellow;
    margin: 0;
    padding: 0;
    font-family: sans-serif;
  }
</style>

<head>
  <script src="particle.js" type="text/javascript"></script>
  <script src="mouse.js" type="text/javascript"></script>
  <script src="animate.js" type="text/javascript"></script>
  <script src="drawmap.js" type="text/javascript"></script>
  <script>
    var THRESHOLD = 0.00005;
    let cvs = canvas.getContext("2d");
    let array2d = null;
    let array = null;
    let particles = []; // Array to store the particles
    //var text = null;
    var n, m;

    window.onload = function () {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

     /* fetch('distance_field.json')
        .then(response => response.json())
        .then(data => {
          console.log("data:", data);
          array2d = data;
        });*/
      
      /*text = fetch('distance_field.json')
        .then((response) => response.json())
        .then((json) => console.log(json));
      array2d = JSON.parse(text);*/
      
      fetch('distance_field.json')
        .then((response) => response.json())
        .then(data => {
          array2d = data;
        });

    n = array2d.length;
    m = array2d[0].length;
    for (let i = 0; i < m; i++) 
    {
        for (let j = 0; j < n; j++) 
        {
            array[i][j] = array2d[j][i];
        }
    }
      
    //array2d = JSON.parse('distance_field.json');
    /*$.getJSON("distance_field.json", function(json) {
    array2d = json;
    });*/

      // Call the animate function to start the animation loop
      animate();
    }

  </script>
</head>

<body>
</body>

</html>
